<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pablo Martinez Pancorbo - Interactive CV</title>
    <!-- React and ReactDOM -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js" integrity="sha512-3sAqC3kGmtW9QJX5WtLTj8br0fTFwKkO2ZFK7mF/yyq+1VDjYy8D1kG+mYgzWS3JqHnLZeO08GdZ9xG0tmngqw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js" integrity="sha512-k6blMjC1e6E+6i7eR0W6GrdYJbTgZow1oqPK8X5i0rJrH13dphE4uqZJfl1ot6iY3YK0ZvWTe4YF6p3Vv1G1VQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Babel for JSX transformation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js" integrity="sha512-kp7hcgJmF8XvM6x6tIQ5UeEBEid3s1B1H6nSbqR2s5GwAfpn4e8S3CBhPC+NkEPRbaKjV8VKMKc9HNS3G37o0w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js" integrity="sha512-QSkFyVxFzZ+8kyzNG9n1Q/1FVf+ijrI27fnQZpldTmmvN5rXbXrkgdaQjBr0vOGxO8F6mGHT1ULCO1E8wz0VfA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- TailwindCSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet" integrity="sha512-/WyHUlMZAAk6XYhHdIbozazjVqw6tu5xHrGCHoZrY1RkCl0KK9GhmhX+w+Xr/O19i0NwDW2Mb0zvDLZkuv5lpg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Optional: Custom styles for better visualization */
        .timeline-img {
            /* Adjust the size and position if necessary */
        }
        .timeline-container {
            /* Adjust padding or margins if necessary */
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // SkillChart Component
        const SkillChart = ({ skills }) => {
            const ctx = useRef(null);

            useEffect(() => {
                // Log skills data to verify
                console.log('Skills Data:', skills);

                const myChart = new Chart(ctx.current, {
                    type: 'radar',
                    data: {
                        labels: skills.map(skill => skill.name),
                        datasets: [{
                            label: 'Skills',
                            data: skills.map(skill => skill.level),
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            borderColor: 'rgba(75, 192, 192, 1)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(75, 192, 192, 1)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(75, 192, 192, 1)',
                        }]
                    },
                    options: {
                        scales: {
                            r: { // Correct scale identifier for radar charts in Chart.js 3.x
                                beginAtZero: true,
                                max: 10, // Sets the maximum value of the scale
                                ticks: {
                                    stepSize: 1, // Defines the interval between ticks
                                    backdropColor: 'transparent', // Removes the backdrop for cleaner look
                                    showLabelBackdrop: false, // Hides the label backdrop
                                    font: {
                                        size: 14, // Adjust tick font size
                                        family: 'Arial',
                                        weight: 'bold',
                                        color: '#4B5563', // Tailwind's gray-700
                                    },
                                    color: '#4B5563', // Tick label color
                                },
                                pointLabels: {
                                    font: {
                                        size: 16, // Adjust the font size of the labels
                                        family: 'Arial',
                                        weight: 'bold',
                                        color: '#374151', // Tailwind's gray-700
                                    },
                                    color: '#374151',
                                },
                                grid: {
                                    color: '#E5E7EB', // Tailwind's gray-200
                                    circular: true,
                                },
                                angleLines: {
                                    color: '#E5E7EB', // Tailwind's gray-200
                                },
                                suggestedMin: 0, // Optional: Ensures the scale starts at 0
                            }
                        },
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top', // Positions the legend at the top
                                labels: {
                                    font: {
                                        size: 16,
                                        family: 'Arial',
                                        weight: 'bold',
                                    },
                                    color: '#374151', // Tailwind's gray-700
                                }
                            },
                            title: {
                                display: true,
                                text: 'Skills Radar Chart',
                                font: {
                                    size: 20,
                                    family: 'Arial',
                                    weight: 'bold',
                                },
                                color: '#374151', // Tailwind's gray-700
                            }
                        },
                        responsive: true,
                        maintainAspectRatio: false, // Allows the chart to resize responsively
                    }
                });

                return () => myChart.destroy();
            }, [skills]);

            return (
                <div className="w-full h-96 relative">
                    <canvas ref={ctx}></canvas>
                </div>
            );
        };

        // ExperienceTimeline Component
        const ExperienceTimeline = ({ experiences }) => {
            return (
                <div className="relative container mx-auto px-6 flex flex-col space-y-8">
                    <div className="absolute z-0 w-2 h-full bg-gray-300 inset-0 left-1/2 transform -translate-x-1/2"></div>
                    {experiences.map((exp, index) => (
                        <div key={index} className={`relative z-10 flex ${index % 2 === 0 ? 'justify-start' : 'justify-end'}`}>
                            <div className={`w-5 h-5 bg-blue-500 rounded-full z-20 ${index % 2 === 0 ? 'mr-4' : 'ml-4'}`}></div>
                            <div className="bg-white p-6 rounded-lg shadow-md w-1/2">
                                <h3 className="font-bold text-xl mb-1">{exp.role}</h3>
                                <time className="text-sm font-normal leading-none text-gray-400 mb-2">{exp.period}</time>
                                <p className="text-base font-normal text-gray-500">{exp.description}</p>
                            </div>
                        </div>
                    ))}
                </div>
            );
        };

        // Publications Component
        const Publications = ({ publications }) => {
            return (
                <div className="space-y-4">
                    {publications.map((pub, index) => (
                        <div key={index} className="bg-white p-4 rounded shadow">
                            <h3 className="font-semibold text-lg">{pub.title}</h3>
                            <p className="text-sm text-gray-600">{pub.authors}</p>
                            <p className="text-sm text-gray-500 italic">{pub.journal}</p>
                        </div>
                    ))}
                </div>
            );
        };

        // Main App Component
        const App = () => {
            const [activeTab, setActiveTab] = useState('skills');

            const skills = [
                { name: 'Python', level: 9.0 },
                { name: 'Machine Learning', level: 8.0 },
                { name: 'Data Analysis', level: 9.0 },
                { name: 'Computer Vision', level: 8.0 },
                { name: 'Augmented Reality', level: 7.5 },
                { name: 'Research & Development', level: 9.0 },
                { name: 'Team Leadership', level: 8.0 },
                { name: 'Linux/Bash', level: 7.0 },
                { name: 'SQL', level: 7.0 },
            ];

            const experiences = [
                {
                    role: 'Data Scientist / Software Engineer',
                    period: 'Current',
                    description: 'Leading teams in transitioning R&D products to production, integrating Agile methodologies, and creating interactive demos for clients.'
                },
                {
                    role: 'Laboratory Automation Lead',
                    period: 'Previous',
                    description: 'Spearheaded end-to-end laboratory automation for scientific experimentation in the pharmaceutical sector, yielding significant time savings and productivity increases.'
                },
                {
                    role: 'Marketing Data Analyst',
                    period: 'Previous',
                    description: 'Leveraged data analysis and predictive models to enhance email campaign effectiveness and sales forecasting.'
                },
                {
                    role: 'Research Team Leader',
                    period: 'Previous',
                    description: 'Led the development and commercialization of a wearable sensor in Tokyo and created novel nanoparticles for cancer diagnosis and therapy.'
                },
            ];

            const publications = [
                {
                    title: 'Highly scalable, wearable surface-enhanced Raman spectroscopy',
                    authors: 'Liu L †, Martinez Pancorbo P †, Xiao T, et al. († Co-first authors)',
                    journal: 'Advanced Optical Materials, 2022'
                },
                {
                    title: 'Novel Au–SiO2–WO3 Core–Shell Composite Nanoparticles for Surface-Enhanced Raman Spectroscopy with Potential Application in Cancer Cell Imaging',
                    authors: 'Martinez Pancorbo P, Thummavichai K, Clark L, et al.',
                    journal: 'Adv. Funct. Mater, 2019'
                },
                {
                    title: 'Gravity effects on Soret-induced non-equilibrium fluctuations in ternary mixtures',
                    authors: 'Martínez Pancorbo P, Ortiz de Zárate JM, Bataller H, Croccolo F',
                    journal: 'The European Physical Journal E, 2017'
                },
            ];

            // Optional: Log skills data to verify
            console.log(skills.map(skill => ({ name: skill.name, level: typeof skill.level })));

            return (
                <div className="container mx-auto p-8">
                    <header className="text-center mb-12">
                        <h1 className="text-4xl font-bold mb-2">Pablo Martinez Pancorbo</h1>
                        <p className="text-xl text-gray-600">Data Scientist / Software Engineer</p>
                    </header>

                    <nav className="flex justify-center mb-8 space-x-4">
                        <button 
                            className={`px-4 py-2 rounded ${activeTab === 'skills' ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-700'}`}
                            onClick={() => setActiveTab('skills')}
                        >
                            Skills
                        </button>
                        <button 
                            className={`px-4 py-2 rounded ${activeTab === 'experience' ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-700'}`}
                            onClick={() => setActiveTab('experience')}
                        >
                            Experience
                        </button>
                        <button 
                            className={`px-4 py-2 rounded ${activeTab === 'publications' ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-700'}`}
                            onClick={() => setActiveTab('publications')}
                        >
                            Publications
                        </button>
                    </nav>

                    <main>
                        {activeTab === 'skills' && (
                            <div className="bg-white p-6 rounded-lg shadow-md">
                                <h2 className="text-2xl font-bold mb-4">Skills</h2>
                                <SkillChart skills={skills} />
                            </div>
                        )}
                        {activeTab === 'experience' && (
                            <div className="bg-white p-6 rounded-lg shadow-md">
                                <h2 className="text-2xl font-bold mb-4">Experience</h2>
                                <ExperienceTimeline experiences={experiences} />
                            </div>
                        )}
                        {activeTab === 'publications' && (
                            <div className="bg-white p-6 rounded-lg shadow-md">
                                <h2 className="text-2xl font-bold mb-4">Selected Publications</h2>
                                <Publications publications={publications} />
                            </div>
                        )}
                    </main>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
